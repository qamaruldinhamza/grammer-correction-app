(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,a,t){e.exports=t(28)},26:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(14),c=t.n(l),s=t(6),o=t(2),m=t(29);var i=function(){const[e,a]=Object(r.useState)(""),[t,l]=Object(r.useState)(""),[c,s]=Object(r.useState)(""),[i,d]=Object(r.useState)(!1),u=Object(o.p)(),v=Object(o.n)();return Object(r.useEffect)(()=>{var e;(null===(e=v.state)||void 0===e?void 0:e.sessionExpired)&&d(!0)},[v.state]),n.a.createElement("div",{className:"container mt-5"},n.a.createElement("div",{className:"toast-container position-fixed top-0 end-0 p-3",style:{zIndex:1050}},n.a.createElement("div",{className:"toast align-items-center text-white bg-danger border-0 ".concat(i?"show":"hide"),role:"alert","aria-live":"assertive","aria-atomic":"true"},n.a.createElement("div",{className:"d-flex"},n.a.createElement("div",{className:"toast-body"},"Session has expired."),n.a.createElement("button",{type:"button",className:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:()=>d(!1)})))),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-6 col-lg-4"},n.a.createElement("div",{className:"card shadow-sm"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h2",{className:"text-center mb-4"},"Login"),c&&n.a.createElement("p",{className:"text-danger text-center"},c),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"username",className:"form-label"},"Username"),n.a.createElement("input",{type:"text",id:"username",className:"form-control",placeholder:"Enter your username",value:e,onChange:e=>a(e.target.value)})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"password",className:"form-label"},"Password"),n.a.createElement("input",{type:"password",id:"password",className:"form-control",placeholder:"Enter your password",value:t,onChange:e=>l(e.target.value)})),n.a.createElement("div",{className:"d-grid"},n.a.createElement("button",{className:"btn btn-primary",onClick:async()=>{try{const l=await m.a.post("".concat("http://localhost:3001","/auth/login"),{username:e,password:t},{headers:{Authorization:"Bearer ".concat("1219472194129412094102948")}});localStorage.setItem("token",l.data.token),u("/main")}catch(n){var a,r;s((null===(a=n.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.error)||"Login failed")}}},"Login")),n.a.createElement("p",{className:"text-center mt-3"},"Don't have an account?"," ",n.a.createElement("a",{href:"/register",className:"text-decoration-none"},"Register here")))))))};var d=function(){const[e,a]=Object(r.useState)(""),[t,l]=Object(r.useState)(""),[c,s]=Object(r.useState)(""),i=Object(o.p)();return n.a.createElement("div",{className:"container mt-5"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-6 col-lg-4"},n.a.createElement("div",{className:"card shadow-sm"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h2",{className:"text-center mb-4"},"Register"),c&&n.a.createElement("p",{className:"text-danger text-center"},c),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"username",className:"form-label"},"Username"),n.a.createElement("input",{type:"text",id:"username",className:"form-control",placeholder:"Enter your username",value:e,onChange:e=>a(e.target.value)})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"password",className:"form-label"},"Password"),n.a.createElement("input",{type:"password",id:"password",className:"form-control",placeholder:"Enter your password",value:t,onChange:e=>l(e.target.value)})),n.a.createElement("div",{className:"d-grid"},n.a.createElement("button",{className:"btn btn-primary",onClick:async()=>{try{await m.a.post("".concat("http://localhost:3001","/auth/register"),{username:e,password:t},{headers:{Authorization:"Bearer ".concat("1219472194129412094102948")}}),i("/")}catch(n){var a,r;s((null===(a=n.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.error)||"Registration failed")}}},"Register")),n.a.createElement("p",{className:"text-center mt-3"},"Already have an account?"," ",n.a.createElement("a",{href:"/",className:"text-decoration-none"},"Login here")))))))};var u=function(){const[e,a]=Object(r.useState)(""),[t,l]=Object(r.useState)(""),[c,s]=Object(r.useState)(""),[i,d]=Object(r.useState)(!1),[u,v]=Object(r.useState)(""),E=Object(o.p)();return Object(r.useEffect)(()=>{localStorage.getItem("token")||E("/")},[E]),n.a.createElement("div",{className:"container mt-5"},n.a.createElement("div",{className:"d-flex justify-content-end"},n.a.createElement("button",{className:"btn btn-danger mb-3",onClick:()=>{localStorage.removeItem("token"),E("/")}},"Logout")),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{className:"card shadow-sm"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h2",{className:"text-center mb-4"},"Grammar Correction"),u&&n.a.createElement("p",{className:"text-danger text-center"},u),c&&n.a.createElement("div",{className:"mb-4"},n.a.createElement("h3",{className:"text-center"},"Corrected Text"),n.a.createElement("p",{className:"p-3 bg-light border rounded"},c)),t&&n.a.createElement("div",{className:"mb-4"},n.a.createElement("h3",{className:"text-center"},"Output"),n.a.createElement("p",{className:"p-3 bg-light border rounded",dangerouslySetInnerHTML:{__html:t}})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("textarea",{className:"form-control",placeholder:"Enter text here...",value:e,onChange:e=>a(e.target.value),rows:"8"})),n.a.createElement("div",{className:"d-grid"},n.a.createElement("button",{className:"btn btn-primary",onClick:async()=>{d(!0),v("");try{var t,r;const p=localStorage.getItem("token"),b=await m.a.post("".concat("http://localhost:3001","/grammar"),{text:e},{headers:{Authorization:"Bearer ".concat(p)}});let h=(null===(t=b.data.correctedText.split(":")[1])||void 0===t?void 0:t.trim())||"No corrections made.",N=(null===(r=b.data.highlightedText.split(":")[1])||void 0===r?void 0:r.trim())||"No highlights available.";h=h.replace(/^"(.*)"$/,"$1"),N=N.replace(/^"(.*)"$/,"$1"),a(h),l(N),s(h)}catch(u){var n,c,o,i;const e=(null===(n=u.response)||void 0===n?void 0:null===(c=n.data)||void 0===c?void 0:c.error)||"Grammar check failed";v(e),401!==(null===(o=u.response)||void 0===o?void 0:o.status)&&400!==(null===(i=u.response)||void 0===i?void 0:i.status)||(localStorage.removeItem("token"),E("/",{state:{sessionExpired:!0}}))}finally{d(!1)}},disabled:i},i?"Processing...":"Check Grammar")))))))};var v=function(){return n.a.createElement(s.a,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/",element:n.a.createElement(i,null)}),n.a.createElement(o.a,{path:"/register",element:n.a.createElement(d,null)}),n.a.createElement(o.a,{path:"/main",element:n.a.createElement(u,null)})))};t(26),t(27);c.a.createRoot(document.getElementById("root")).render(n.a.createElement(v,null))}},[[15,1,2]]]);
//# sourceMappingURL=main.8058862b.chunk.js.map