{"version":3,"sources":["pages/Login.js","pages/Register.js","pages/MainPage.js","App.js","index.js"],"names":["Login","username","setUsername","useState","password","setPassword","error","setError","showToast","setShowToast","navigate","useNavigate","location","useLocation","useEffect","_location$state","state","sessionExpired","React","createElement","className","style","zIndex","concat","role","aria-live","aria-atomic","type","aria-label","onClick","htmlFor","id","placeholder","value","onChange","e","target","async","response","axios","post","process","REACT_APP_API_BACKEND_URL","headers","Authorization","localStorage","setItem","data","token","err","_err$response","_err$response$data","href","Register","MainPage","text","setText","highlightedText","setHighlightedText","correctedText","setCorrectedText","loading","setLoading","getItem","handleLogout","removeItem","dangerouslySetInnerHTML","__html","rows","_response$data$correc","_response$data$highli","split","trim","highlightedHTML","replace","_err$response2","_err$response3","errorMessage","status","disabled","App","Router","Routes","Route","path","element","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.9bd24d6d.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction Login() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [showToast, setShowToast] = useState(false); \n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (location.state?.sessionExpired) {\n      setShowToast(true); \n    }\n  }, [location.state]);\n\n  const handleLogin = async () => {\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_BACKEND_URL}/auth/login`, {\n        username,\n        password,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${process.env.REACT_APP_FIXED_TOKEN}`,\n        },\n      });\n      localStorage.setItem(\"token\", response.data.token); \n      navigate(\"/main\"); \n    } catch (err) {\n      setError(err.response?.data?.error || \"Login failed\");\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      {/* Bootstrap Toast */}\n      <div\n        className={`toast-container position-fixed top-0 end-0 p-3`}\n        style={{ zIndex: 1050 }}\n      >\n        <div\n          className={`toast align-items-center text-white bg-danger border-0 ${\n            showToast ? \"show\" : \"hide\"\n          }`}\n          role=\"alert\"\n          aria-live=\"assertive\"\n          aria-atomic=\"true\"\n        >\n          <div className=\"d-flex\">\n            <div className=\"toast-body\">Session has expired.</div>\n            <button\n              type=\"button\"\n              className=\"btn-close btn-close-white me-2 m-auto\"\n              aria-label=\"Close\"\n              onClick={() => setShowToast(false)}\n            ></button>\n          </div>\n        </div>\n      </div>\n\n      {/* Login Form */}\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6 col-lg-4\">\n          <div className=\"card shadow-sm\">\n            <div className=\"card-body\">\n              <h2 className=\"text-center mb-4\">Login</h2>\n              {error && <p className=\"text-danger text-center\">{error}</p>}\n              <div className=\"mb-3\">\n                <label htmlFor=\"username\" className=\"form-label\">\n                  Username\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"username\"\n                  className=\"form-control\"\n                  placeholder=\"Enter your username\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"password\" className=\"form-label\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Enter your password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                />\n              </div>\n              <div className=\"d-grid\">\n                <button className=\"btn btn-primary\" onClick={handleLogin}>\n                  Login\n                </button>\n              </div>\n              <p className=\"text-center mt-3\">\n                Don't have an account?{\" \"}\n                <a href=\"/register\" className=\"text-decoration-none\">\n                  Register here\n                </a>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction Register() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleRegister = async () => {\n    try {\n      await axios.post(`${process.env.REACT_APP_API_BACKEND_URL}/auth/register`, {\n        username,\n        password,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${process.env.REACT_APP_FIXED_TOKEN}`,\n        },\n      });\n\n\n      navigate(\"/\"); \n    } catch (err) {\n      setError(err.response?.data?.error || \"Registration failed\");\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6 col-lg-4\">\n          <div className=\"card shadow-sm\">\n            <div className=\"card-body\">\n              <h2 className=\"text-center mb-4\">Register</h2>\n              {error && <p className=\"text-danger text-center\">{error}</p>}\n              <div className=\"mb-3\">\n                <label htmlFor=\"username\" className=\"form-label\">\n                  Username\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"username\"\n                  className=\"form-control\"\n                  placeholder=\"Enter your username\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"password\" className=\"form-label\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  id=\"password\"\n                  className=\"form-control\"\n                  placeholder=\"Enter your password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                />\n              </div>\n              <div className=\"d-grid\">\n                <button className=\"btn btn-primary\" onClick={handleRegister}>\n                  Register\n                </button>\n              </div>\n              <p className=\"text-center mt-3\">\n                Already have an account?{\" \"}\n                <a href=\"/\" className=\"text-decoration-none\">\n                  Login here\n                </a>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;","import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nfunction MainPage() {\n  const [text, setText] = useState(\"\");\n  const [highlightedText, setHighlightedText] = useState(\"\");\n  const [correctedText, setCorrectedText] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      navigate(\"/\");\n    }\n  }, [navigate]);\n\n  const handleCheckGrammar = async () => {\n    setLoading(true);\n    setError(\"\");\n  \n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.post(\n        `${process.env.REACT_APP_API_BACKEND_URL}/grammar`,\n        { text },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n  \n      let correctedText = response.data.correctedText.split(':')[1]?.trim() || \"No corrections made.\";\n      let highlightedHTML = response.data.highlightedText.split(':')[1]?.trim() || \"No highlights available.\";\n\n      correctedText = correctedText.replace(/^\"(.*)\"$/, \"$1\");  \n      highlightedHTML = highlightedHTML.replace(/^\"(.*)\"$/, \"$1\");\n  \n  \n      setText(correctedText); \n      setHighlightedText(highlightedHTML); \n      setCorrectedText(correctedText); \n    } catch (err) {\n      const errorMessage = err.response?.data?.error || \"Grammar check failed\";\n      setError(errorMessage);\n  \n      if (err.response?.status === 401 || err.response?.status === 400) {\n        localStorage.removeItem(\"token\"); \n        navigate(\"/\", { state: { sessionExpired: true } }); \n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    navigate(\"/\"); \n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"d-flex justify-content-end\">\n        <button className=\"btn btn-danger mb-3\" onClick={handleLogout}>\n          Logout\n        </button>\n      </div>\n\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-8\">\n          <div className=\"card shadow-sm\">\n            <div className=\"card-body\">\n              <h2 className=\"text-center mb-4\">Grammar Correction</h2>\n              {error && <p className=\"text-danger text-center\">{error}</p>}\n\n              {correctedText && (\n                <div className=\"mb-4\">\n                  <h3 className=\"text-center\">Corrected Text</h3>\n                  <p className=\"p-3 bg-light border rounded\">{correctedText}</p>\n                </div>\n              )}\n\n              {highlightedText && (\n                <div className=\"mb-4\">\n                  <h3 className=\"text-center\">Output</h3>\n                  <p\n                    className=\"p-3 bg-light border rounded\"\n                    dangerouslySetInnerHTML={{ __html: highlightedText }} \n                  ></p>\n                </div>\n              )}\n\n              <div className=\"mb-3\">\n                <textarea\n                  className=\"form-control\"\n                  placeholder=\"Enter text here...\"\n                  value={text}\n                  onChange={(e) => setText(e.target.value)}\n                  rows=\"8\"\n                ></textarea>\n              </div>\n\n              <div className=\"d-grid\">\n                <button\n                  className=\"btn btn-primary\"\n                  onClick={handleCheckGrammar}\n                  disabled={loading}\n                >\n                  {loading ? \"Processing...\" : \"Check Grammar\"}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MainPage;","import React from \"react\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport Login from \"./pages/Login\";\nimport Register from \"./pages/Register\";\nimport MainPage from \"./pages/MainPage\";\n\nfunction App() {\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/\" element={<Login />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route path=\"/main\" element={<MainPage />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\")); // Use createRoot\nroot.render(<App />);"],"sourceRoot":""}